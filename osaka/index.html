
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¤§é˜ª 3 æ—¥è´­ç‰©æ¸¸ï¼šPM ä¸“å±ä½œæˆ˜è®¡åˆ’ | Travel Architect</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap');
        :root {
            --primary: #FF4757;
            --primary-dark: #ED225D;
            --accent: #FFD32A;
            --bg-gradient: linear-gradient(180deg, #FFF5F5 0%, #FFFFFF 100%);
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-main: #2F3542;
            --text-sub: #747D8C;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Outfit', sans-serif; background: var(--bg-gradient); color: var(--text-main); margin: 0; padding: 0; min-height: 100vh; }
        .app-container { max-width: 480px; margin: 0 auto; background: #fff; min-height: 100vh; position: relative; box-shadow: 0 0 40px rgba(0,0,0,0.05); }
        .hero { position: relative; height: 180px; background: url('https://images.unsplash.com/photo-1590259615474-ad7b936689ce?auto=format&fit=crop&w=800&q=80') center/cover; display: flex; flex-direction: column; justify-content: flex-end; padding: 30px 20px; color: white; border-bottom-left-radius: 40px; border-bottom-right-radius: 40px; overflow: hidden; }
        .hero::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(to bottom, rgba(0,0,0,0) 40%, rgba(0,0,0,0.7) 100%); }
        .hero-content { position: relative; z-index: 1; }
        .hero h1 { margin: 0; font-size: 24px; font-weight: 700; }
        .content-body { padding: 20px; }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: -40px; position: relative; z-index: 10; }
        .stat-card { background: var(--card-bg); backdrop-filter: blur(10px); padding: 12px; border-radius: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); text-align: center; border: 1px solid rgba(255,255,255,0.3); }
        .stat-card i { font-size: 18px; color: var(--primary); margin-bottom: 5px; }
        .stat-card strong { display: block; font-size: 14px; margin-top: 2px; }
        .day-tabs { display: flex; overflow-x: auto; gap: 10px; margin: 25px 0 15px; padding-bottom: 5px; scrollbar-width: none; }
        .day-tabs::-webkit-scrollbar { display: none; }
        .tab { flex: 0 0 auto; padding: 10px 18px; border-radius: 15px; background: #F1F5F9; color: var(--text-sub); font-size: 13px; font-weight: 600; cursor: pointer; }
        .tab.active { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .itinerary-card { background: white; border-radius: 24px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); border: 1px solid #F1F5F9; margin-bottom: 20px; }
        .poi-item { display: block; background: #F8FAFC; border-radius: 20px; margin-bottom: 15px; overflow: hidden; text-decoration: none; color: inherit; border: 1px solid #E2E8F0; }
        .poi-img { width: 100%; height: 130px; background-size: cover; background-position: center; }
        .poi-details { padding: 12px 15px; }
        .poi-details strong { display: block; font-size: 14px; }
        .poi-info-text { font-size: 11px; color: var(--text-sub); margin-top: 3px; display: block; }
        .budget-box { background: #F0FDF4; border: 1px solid #BBF7D0; border-radius: 20px; padding: 15px; margin-bottom: 20px; }
        .budget-box h4 { margin: 0 0 8px; color: #166534; font-size: 14px; }
        .budget-box p { margin: 0; font-size: 12px; color: #15803D; }
        .correction-card { background: #FFF1F2; border: 1px solid #FECDD3; border-radius: 18px; padding: 12px 15px; margin-bottom: 20px; }
        .correction-card p { margin: 0; font-size: 12px; color: #BE123C; }
        #map { height: 180px; border-radius: 24px; box-shadow: 0 8px 20px rgba(0,0,0,0.05); border: 4px solid white; margin-bottom: 25px; }
        .footer { text-align: center; padding: 30px 20px; font-size: 11px; color: var(--text-sub); }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="hero">
            <div class="hero-content">
                <div style="font-size: 10px; opacity: 0.8; margin-bottom: 5px;">Travel Architect Pro v1.0</div>
                <h1>å¤§é˜ª 3 æ—¥è´­ç‰©æ¸¸ï¼šPM ä¸“å±ä½œæˆ˜è®¡åˆ’</h1>
                <p>ä½ å¥½ æ¾æ¾ï¼æ‚¨çš„è¡Œç¨‹å·²æ›´æ–°ã€‚</p>
            </div>
        </header>
        <div class="content-body">
            <div class="stats-grid">
                <div class="stat-card"><i class="fas fa-cloud"></i><span>å½“åœ°å¤©æ°”</span><strong>å¤§é˜ª 9Â°C å±€éƒ¨å¤šäº‘</strong></div>
                <div class="stat-card"><i class="fas fa-coins"></i><span>å®æ—¶æ±‡ç‡</span><strong>1 CNY â‰ˆ 22.52 JPY</strong></div>
            </div>
            <div class="day-tabs" id="dayTabs"></div>
            <div id="map"></div>
            <div id="dayContent"></div>
            
            <div class="budget-box">
                <h4>ğŸ’° é¢„ç®—ä¸è´¹ç”¨é¢„ä¼°</h4>
                <p>é¢„è®¡æ€»è´¹ç”¨: çº¦ 8,500 - 12,000 CNY (åŒ…å«å¾€è¿”æœºç¥¨/é«˜æ ‡é…’åº—)ã€‚ç°é‡‘å‡†å¤‡: å»ºè®®æºå¸¦ 5-8 ä¸‡ JPY é›¶ç”¨ï¼Œå¤§éƒ¨åˆ†å•†åœºæ”¯æŒç§»åŠ¨æ”¯ä»˜ã€‚</p>
            </div>
        </div>
        <footer class="footer">
            <p>ç”± <strong>songsongçš„å°è·Ÿç­</strong> è‡ªåŠ¨åŒ–ç”Ÿæˆ</p>
        </footer>
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const itineraryData = [{"day": 1, "title": "æ½®æµä¸åœ£åœ°ï¼šå¿ƒæ–‹æ¡¥ã€PARCO", "desc": "è½åœ°å³é¦–æ”»å¿ƒæ–‹æ¡¥åŒºã€‚PARCO 6æ¥¼é›†ç»“äº†ä»»å¤©å ‚ã€çš®å¡ä¸˜ç­‰ PM å¿…çœ‹çš„é›¶å”®ç”Ÿæ€æ¨¡èŒƒã€‚", "correction": "å…³è¥¿æœºåœºåˆ°å¿ƒæ–‹æ¡¥çº¦ 50 åˆ†é’Ÿï¼Œå»ºè®®ä¸‹æœºåç›´æ¥å­˜åŒ…åˆ°é…’åº—ã€‚ç¬¬ä¸€æ™šçš„èŸ¹é“ä¹åŠ¡å¿…æå‰ 2 å¤©å®˜ç½‘é¢„çº¦ã€‚", "pois": [{"name": "å¿ƒæ–‹æ¡¥ PARCO", "lat": 34.6748, "lon": 135.5002, "img": "https://images.unsplash.com/photo-1590233156170-0720516b349e?auto=format&fit=crop&w=400&q=80", "info": "ğŸ® äºŒæ¬¡å…ƒåœ£åœ° | äº®ç‚¹: é›¶å”®é€»è¾‘è°ƒç ”", "link": "https://shinsaibashi.parco.jp/"}]}, {"day": 2, "title": "è¿·å®«ä¸ç¡¬ä»¶ï¼šæ¢…ç”°ã€Yodobashi", "desc": "å…¨å¤©å€™æ‰«è¡åŒ—åŒºæ¢…ç”°å•†åœˆã€‚é‡ç‚¹å…³æ³¨ Yodobashi çš„ AI äº§å“ä¸“æŸœã€‚", "correction": "æ¢…ç”°åœ°ä¸‹è¡—æ˜¯ 3D å¤æ‚çš„ï¼Œå»ºè®®æŠ¬å¤´çœ‹å®ä½“æ ‡è¯†ç‰Œï¼ŒGPS ä¼šæœ‰å»¶è¿Ÿã€‚å™å™è‹‘åˆå¸‚å¥—é¤æˆªæ­¢åˆ° 16:00ï¼Œå»ºè®® 13:00 å‰åˆ°è¾¾ã€‚", "pois": [{"name": "é˜ªæ€¥ç™¾è´§", "lat": 34.7025, "lon": 135.4985, "img": "https://images.unsplash.com/photo-1540541338287-41700207dee6?auto=format&fit=crop&w=400&q=80", "info": "ğŸ’ æè‡´æœåŠ¡ | äº®ç‚¹: 2F åŒ–å¦†å“å…¨æ—¥æœ¬æœ€å…¨", "link": "https://www.hankyu-dept.co.jp/"}]}, {"day": 3, "title": "æ‰«å°¾ä¸è¿”ç¨‹ï¼šä¸´ç©ºåŸ Outlets", "desc": "åœ¨å»å…³è¥¿æœºåœºçš„æœ€åä¸€ç«™å®Œæˆæ‰«è´§ï¼Œéšåè½»æ¾ç™»æœºã€‚", "correction": "ä¸´ç©ºåŸåˆ°èˆªç«™æ¥¼éœ€è¦é¢„ç•™ 15 åˆ†é’Ÿ Shuttle Bus æ—¶é—´ã€‚å¦‚æœæ˜¯æ™šç­æœºï¼Œå»ºè®®åœ¨ 14:00 å‰å®Œæˆä¸»è¦é‡‡è´­ï¼Œä»¥å…æ‰‹å¿™è„šä¹±ã€‚", "pois": [{"name": "Rinku Outlets", "lat": 34.398, "lon": 135.298, "img": "https://images.unsplash.com/photo-1519046904884-53103b34b206?auto=format&fit=crop&w=400&q=80", "info": "ğŸ·ï¸ æš´åŠ›æŠ˜æ‰£ | å»ºè®®åœç•™: 4h+", "link": "https://www.premiumoutlets.co.jp/rinku/"}]}];
        let map, markersGroup, polyline;
        function initMap() {
            map = L.map('map', {zoomControl: false}).setView([0, 0], 2);
            L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png').addTo(map);
            markersGroup = L.layerGroup().addTo(map);
        }
        function updateDay(day) {
            const data = itineraryData.find(d => d.day === day);
            document.getElementById('dayTabs').innerHTML = itineraryData.map(d => `
                <div class="tab ${d.day === day ? 'active' : ''}" onclick="updateDay(${d.day})">Day ${d.day}</div>
            `).join('');
            const poisHtml = data.pois.map(poi => `
                <a href="${poi.link}" class="poi-item" target="_blank">
                    <div class="poi-img" style="background-image: url('${poi.img}')"></div>
                    <div class="poi-details"><strong>${poi.name}</strong><span class="poi-info-text">${poi.info}</span></div>
                </a>
            `).join('');
            document.getElementById('dayContent').innerHTML = `
                <div class="itinerary-card">
                    <h2 style="font-size: 18px; margin: 0 0 10px; color: var(--primary-dark);">${data.title}</h2>
                    <div style="font-size: 13px; line-height: 1.6; color: #4b5563; margin-bottom: 20px;">${data.desc}</div>
                    ${data.correction ? `<div class="correction-card"><p>âš ï¸ AI çº é”™å»ºè®®ï¼š${data.correction}</p></div>` : ''}
                    <h3 style="font-size: 14px; margin: 20px 0 12px; color: var(--text-sub); border-left: 4px solid var(--primary); padding-left: 8px;">ğŸ“ è¯¦ç»†è¡Œç¨‹:</h3>
                    ${poisHtml}
                </div>
            `;
            markersGroup.clearLayers(); if (polyline) polyline.remove();
            const latlngs = data.pois.filter(p => p.lat && p.lon).map(p => [p.lat, p.lon]);
            data.pois.filter(p => p.lat && p.lon).forEach(p => L.marker([p.lat, p.lon]).addTo(markersGroup).bindPopup(p.name));
            if (latlngs.length > 1) { polyline = L.polyline(latlngs, {color: 'var(--primary)', weight: 3}).addTo(map); map.fitBounds(polyline.getBounds(), {padding: [30, 30]}); }
            else if (latlngs.length === 1) map.setView(latlngs[0], 15);
        }
        window.onload = () => { initMap(); updateDay(1); };
    </script>
</body>
</html>
